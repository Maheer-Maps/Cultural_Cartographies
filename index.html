<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cultural Cartographies</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Cormorant:ital,wght@0,300..700;1,300..700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Manrope:wght@200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik+Mono+One&family=Special+Gothic+Expanded+One&family=Tilt+Warp&family=Urbanist:wght@100..900&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>

    html {
  scroll-behavior: smooth;
    }
    
    
    body {
      margin: 0;
      padding: 0;
      font-family: "Bricolage Grotesque", sans-serif;
      background-color:#333432;
    }

    /* Navigation */
    .nav-buttons {
      position: fixed;
      top: 30px;
      right: 40px;
      display: flex;
      gap: 15px;
      z-index: 1000;
    }

    .nav-buttons a {
      font-family: "Bricolage Grotesque", sans-serif;
      color: white;
      text-transform: uppercase;
      border: 1px solid white;
      padding: 6px 15px;
      border-radius: 20px;
      text-decoration: none;
      font-size: 0.85rem;
      background-color: transparent;
      transition: background-color 0.3s, color 0.3s;
      margin: 6px 0;
    }

    .nav-buttons a:hover {
      background-color: white;
      color: black;
    }

    .dropdown-menu {
      background-color: transparent;
      border: none;
    }

    .dropdown-menu .dropdown-item:hover {
      background-color: #eee;
      color: #000;
      
    }

    .title-section {
      height: 100vh;
      background: url('LandingCollage.png') center center / cover no-repeat;
      display: flex;
      justify-content: right;
      align-items: flex-end;
      padding: 100px;
    }

    .title {
      font-size: 3rem;
      font-weight: 700;
      color: #ffffff;
      font-family: "Rubik Mono One", monospace;
      text-transform: uppercase;
    }

    section {
      background-color: #333432;
    }

    p {
      font-size: 1.2rem;
      color: #ffffff;
      font-family: "EB Garamond", serif;
    }

    .section-title {
  font-size: 2.5rem;
  font-family: 'Bricolage Grotesque', sans-serif;
  text-transform: uppercase;
  color: #D9D9D9;
  padding: 0px 40px 20px;
  margin: 0;
}

.chart-toggle-btn {
  font-family: "Bricolage Grotesque", sans-serif;
  color: whitesmoke;
  text-transform: uppercase;
  border: 1px solid whitesmoke;
  padding: 6px 14px;
  border-radius: 20px;
  text-decoration: none;
  font-size: 0.85rem;
  background-color: transparent;
  transition: background-color 0.3s, color 0.3s;
}

.chart-toggle-btn:hover,
.chart-toggle-btn.active {
  background-color: whitesmoke;
  color: black;
}

.city-network-wrapper {
  font-family: "EB Garamond", serif;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 20px;
  padding: 0px 40px 0px 40px;
  height: 90vh;
  box-sizing: border-box;
  color: white;
}

.city-network-left, .city-network-right {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
}


.city-network-desc {
  padding:0px 0px 10px 40px;
  font-size: 1.2rem;
  line-height: 1.6;
  max-width: 95%;
  color: white;
}

.infographic-img {
  width: 90%;
  height: auto;
  max-width: 100%;
  object-fit: contain;
}

.two-column {
  padding:20px 0px 10px 40px;
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
}

.column {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 20px;
  font-family: "EB Garamond", serif;
  color: white;
}

.two-column.reversed {
  flex-direction: row-reverse !important;
  flex-wrap: nowrap;
}

.music-chart {
  width: 110%;
  height: 50vh;
  border: none;
  margin-bottom: 20px;
}

.section-flex {
  display: flex;
  flex-direction: row;
  padding: 60px;
  gap: 20px;
  height: 100vh;
  box-sizing: border-box;
}

.left-column {
  flex: 4;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}


.chart-container {
  width: 750px;
  height: 300px;
  border-radius: 8px;
  overflow: hidden;
}

.chart-container iframe {
  width: 100%;
  height: 100%;
  border: none;
  box-sizing: border-box;
}

.right-column {
  flex: 3;
  display: flex;
  flex-direction: column;
  height: 100%;
}
.right-column iframe {
  flex-grow: 1;
  height: 100%;
  width: 100%;
  border: none;
}


  </style>
</head>
<body>

  <!-- Navigation -->
  <div class="nav-buttons">
    <div class="dropdown">
      <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Menu</a>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#citynetwork">City Network</a></li>
        <li><a class="dropdown-item" href="#2018_2023">2018-2023</a></li>
        <li><a class="dropdown-item" href="#capital">Cultural Capital?</a></li>
        <li><a class="dropdown-item" href="#2017_2025">2017-2025</a></li>
        <li><a class="dropdown-item" href="#boroughs">Borough by borough</a></li> 
        <li><a class="dropdown-item" href="#inequitable">Inequitable Change</a></li>
        <li><a class="dropdown-item" href="#casestudies">Case Studies</a></li>
        <li><a class="dropdown-item" href="#process">Process and People</a></li>

      </ul>
    </div>
  </div>

  <!-- Title -->
  <section class="title-section">
    <div class="title">Cultural Cartographies</div>
  </section>

  <!-- City Network Section -->
<section id="citynetwork" style="padding: 0; margin: 0;">
  <div class="city-network-wrapper">
    
    <div class="city-network-left">
      <h2 class="section-title ">LONDON'S CULTURAL NETWORK</h2>
      <p class="city-network-desc">
        Our web-analysis of London’s cultural network, visualises gaps in cultural infrastructure and data through a spatial-temporal lens. While existing maps—such as the Cultural Infrastructure Map by the Mayor of London and the Culture and Place Data Explorer by Arts Council England—offer valuable static overviews, they fail to reflect how London’s cultural landscape has shifted over time, particularly in the wake of COVID-19. Cultural consumption spaces experienced the greatest losses, prompting a targeted investigation into how access to culture has changed across both space and time begging the research question - 
        <em>Is access to London cultural network equitable across time and geography?</em>
      </p>
      <img src="./diagram3.png" alt="Net Loss Bar Chart" class="infographic-img">
    </div>

    <div class="city-network-right">
      <img src="./diagram1.png" alt="Cultural Closures Donut Chart" class="infographic-img">
      <img src="./diagram2.png" alt="Cultural Consumption Net Loss" class="infographic-img">
    </div>

  </div>
</section>

  <!-- 2018-2023 -->
<section id="2018_2023" style="padding: 60px;">
  <h2 class="section-title">Cultural Network comparison</h2>
  <div class="two-column">
    <div class="column" style="flex: 2;">
      <iframe src="./networkmap.html" style="width: 95%; height: 80vh; border: none;" id="mapFrame"></iframe>
    </div>
    <div class="column" style="flex: 1;">
      <div class="year-toggle">
        <button class="chart-toggle-btn active" data-year="2018">2018</button>
        <button class="chart-toggle-btn" data-year="2023">2023</button>
      </div>
      <p id="map-description">
        <!-- Initial text for 2018 -->
        The natural place to start a network study is to begin plotting a geographical network diagram. As we are investigating access to cultural infrastructure  and cultural typologies to see if London has equitable access we employed the 15 min cities theoretical framework to observe walkable (1km) cultural access across London and grouped the network by their typology (cinema/gallery/etc/etc). As the only verified cultural infrastructure data in London is the GLA data for 2018 and 2023 we began by plotting 2018 to then compare it with 2023 to observe changes in trends.
      </p>
    </div>
  </div>
</section>

<!-- 2018-2023 - continuation -->
<section id="2023_continuation" style="padding: 60px 60px 60px 60px;">
  <div class="two-column reversed">
    <div class="column">
      <p>
        <!-- New text for 2023 -->
        In 2023, notable shifts have occurred. The expansion of cultural infrastructure is evident, with increased presence in outer boroughs. However, central London continues to show a denser network, reinforcing the concentration of cultural capital. This comparative analysis helps identify underserved areas and opportunities for more equitable cultural development.
      </p>
    </div>
    <div class="column" style="flex: 2;">
      <iframe src="./dotdiagram.html" style="width: 95%; height: 80vh; border: none;" id="dotMapFrame"></iframe>
    </div>
  </div>
</section>

   <!-- London- cultural capital? -->
   <section id="capital" style="min-height: 100vh; padding: 60px;">
    <div class="city-network-wrapper">
    
      <div class="city-network-left">
    <h2 class="section-title">London; A Global Cultural Benchmark?</h2>
    <p class="city-network-desc">
      Our web-analysis of London’s cultural network, visualises gaps in cultural infrastructure and data through a spatial-temporal lens. While existing maps—such as the Cultural Infrastructure Map by the Mayor of London and the Culture and Place Data Explorer by Arts Council England—offer valuable static overviews, they fail to reflect how London’s cultural landscape has shifted over time, particularly in the wake of COVID-19. Cultural consumption spaces experienced the greatest losses, prompting a targeted investigation into how access to culture has changed across both space and time begging the research question - 
      <em>Is access to London cultural network equitable across time and geography?</em>
    </p>
    <img src="./cities.png" alt="Cities Diagram" class="infographic-img">
  </div>


    <div class="city-network-right">
      <iframe src="./Music_vs_cities.html" class="music-chart" title="Music Network Map"></iframe>
      <iframe src="./Museum_vs_cities.html" class="music-chart" title="Museum Network Map"></iframe>
    </div>

</div>

   
  </section>
  
   <!-- 2017-2025 -->
  <section id="2017_2025" class="section-flex">
    <div class="left-column">
      <h2 class="section-title">LONDON CULTURAL NETWORK: SPACIO-TEMPORAL ANALYSIS</h2>

      <p class="city-network-desc">
        Our web-analysis of London’s cultural network, visualises gaps in cultural infrastructure and data through a spatial-temporal lens. While existing maps—such as the Cultural Infrastructure Map by the Mayor of London and the Culture and Place Data Explorer by Arts Council England—offer valuable static overviews, they fail to reflect how London’s cultural landscape has shifted over time, particularly in the wake of COVID-19. Cultural consumption spaces experienced the greatest losses, prompting a targeted investigation into how access to culture has changed across both space and time begging the research question - 
        <em>Is access to London cultural network equitable across time and geography?</em>
      </p>

      <div class="chart-container">
        <iframe src="Line.html"></iframe>
      </div>
    </div>
    <div class="right-column">
      <iframe src="./2017_2025.html"></iframe>
    </div>
  </section>


  <!-- Borough by borough -->
  <section id="boroughs" style="min-height: 100vh; padding: 60px;">
    
      <h2 class="section-title">Borough by borough breakdown</h2>
      <!-- content here -->
<!-- Toggle Buttons -->
<div class="d-flex justify-content-center gap-3 mb-4">
  <a href="#" id="mapViewBtn" class="chart-toggle-btn">Map View</a>
  <a href="#" id="barViewBtn" class="chart-toggle-btn">Bar Chart</a>
</div>

<!-- Chart Container -->
<div id="main" style="width: 100%; height: 80vh;"></div>
    </div>
  </section>


 <!-- Inequitable Change -->
  <section id="inequitable" style="min-height: 100vh; padding: 60px;">
  <h2 class="section-title">Inequitable Change</h2>
  
</section>


 <!-- Case studies -->
<section id="casestudies" style="padding: 60px 60px 0 60px; height: 100vh; box-sizing: border-box; display: flex; flex-direction: column;">

  <!-- Section Title -->
  <h2 class="section-title" style="margin-bottom: 20px;">Case Studies</h2>

  <!-- Fullscreen Iframe -->
  <div style="flex: 1; width: 100%;">
    <iframe src="./Casestudies.html" style="width: 100%; height: 100%; border: none;"></iframe>
  </div>

</section>

       <!-- Subsection: Bromley -->
  <div style="height: 100vh;">
    <iframe src="./Bromley.html"
            style="width: 100%; height: 100%; border: none ;display: block;"></iframe>
  </div>

      <!-- Subsection: Hackney -->
  <div style="height: 100vh;">
    <iframe src="./Hackney.html"
            style="width: 100%; height: 100%; border: none; display: block;"></iframe>
  </div>

  <!-- Subsection: Hillingdon -->
  <div style="height: 100vh;">
    <iframe src="./Hillingdon.html"
            style="width: 100%; height: 100%; border: none; display: block;"></iframe>
  </div>

    </div>
  </section>

  <!-- Process and People -->
  <section id="process" style="padding: 60px;">
    <div class="container-fluid d-flex justify-content-between align-items-center" style="height: 90vh; padding: 0;">
      <h2 class="section-title">Process and People</h2>
      <!-- content here -->

    </div>
  </section>

  <!-- Map / Data Logic -->
<script src="app.js"></script>

  <!-- Bootstrap JS (Dropdown) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>



<script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const chartDom = document.getElementById('main');
  const myChart = echarts.init(chartDom);

  myChart.showLoading();

  const LONDON_GEOJSON_URL = 'https://raw.githubusercontent.com/radoi90/housequest-data/master/london_boroughs.geojson';

  $.get(LONDON_GEOJSON_URL, function (londonJson) {
    myChart.hideLoading();
    echarts.registerMap('London', londonJson);

    const data = [
      { name: 'Barking and Dagenham', value: 0.00 }, { name: 'Barnet', value: -0.20 },
      { name: 'Bexley', value: -0.60 }, { name: 'Brent', value: 0.25 },
      { name: 'Bromley', value: -0.13 }, { name: 'Camden', value: -0.13 },
      { name: 'City of London', value: 0.00 }, { name: 'Croydon', value: 0.20 },
      { name: 'Ealing', value: -0.18 }, { name: 'Enfield', value: 0.10 },
      { name: 'Greenwich', value: -0.08 }, { name: 'Hackney', value: 0.00 },
      { name: 'Hammersmith and Fulham', value: 0.09 }, { name: 'Haringey', value: -0.43 },
      { name: 'Harrow', value: -0.14 }, { name: 'Havering', value: 1.00 },
      { name: 'Hillingdon', value: 0.17 }, { name: 'Hounslow', value: -0.25 },
      { name: 'Islington', value: 0.00 }, { name: 'Kensington and Chelsea', value: 0.43 },
      { name: 'Kingston upon Thames', value: 0.11 }, { name: 'Lambeth', value: -0.08 },
      { name: 'Lewisham', value: -0.06 }, { name: 'Merton', value: 0.11 },
      { name: 'Newham', value: 0.00 }, { name: 'Redbridge', value: -0.56 },
      { name: 'Richmond upon Thames', value: -0.60 }, { name: 'Southwark', value: 0.08 },
      { name: 'Sutton', value: -0.33 }, { name: 'Tower Hamlets', value: -0.20 },
      { name: 'Waltham Forest', value: -0.33 }, { name: 'Wandsworth', value: -0.33 },
      { name: 'Westminster', value: 0.25 }
    ];

    data.sort((a, b) => a.value - b.value);

    const mapOption = {
  tooltip: {
    trigger: 'item',
    backgroundColor: '#333432', 
    borderColor: '#ffffff', 
    borderWidth: 1, 
    textStyle: {
      color: '#ffffff', 
      fontFamily: 'Bricolage Grotesque', 
      fontSize: 14 
    },
    padding: 10, 
    extraCssText: 'border-radius: 10px;' 
  },
  visualMap: {
    left: 'right',
    min: -0.60,
    max: 1.00,
    inRange: {
      color: ['#C79BF2', '#C8C2F2', '#C4E5F2', '#A0F2CC', '#5EF275'] 
    },
    text: ['High', 'Low'],
    calculable: true,
    textStyle: {
      color: '#ffffff', 
      fontFamily: 'Bricolage Grotesque',
      fontSize: 14
    }
  },
  series: [{
    id: 'libraries_change',
    type: 'map',
    roam: false,
    map: 'London',
    universalTransition: true,
    animationDurationUpdate: 1000,
    data: data,
    emphasis: {
      itemStyle: {
        areaColor: '#FFFFFF', 
        borderColor: '#000000', 
        borderWidth: 1 
      },
      label: {
        color: '#000000', 
        fontFamily: 'Bricolage Grotesque',
        fontSize: 12
      }
    }
  }]
};

    const barOption = {
      tooltip: { trigger: 'axis' },
      textStyle: {
    color: '#ffffff',
    fontFamily: 'Bricolage Grotesque',
    fontSize: 12
  },
      xAxis: { type: 'value' },
      yAxis: {
        type: 'category',
        axisLabel: { rotate: 30 },
        data: data.map(d => d.name)
      },
      series: [{
        id: 'libraries_change',
        type: 'bar',
        data: data.map(d => d.value),
        universalTransition: true,
        itemStyle: {
          color: (params) => params.value < 0 ? '#A9BED9' : '#5EF275'
        }
      }],
      animationDurationUpdate: 2000
    };

    let currentView = 'map';
myChart.setOption(mapOption);

// Toggle button logic
const mapViewBtn = document.getElementById('mapViewBtn');
const barViewBtn = document.getElementById('barViewBtn');

mapViewBtn.addEventListener('click', function (e) {
  e.preventDefault();
  myChart.setOption(mapOption, true);
  currentView = 'map';
  mapViewBtn.classList.add('active');
  barViewBtn.classList.remove('active');
});

barViewBtn.addEventListener('click', function (e) {
  e.preventDefault();
  myChart.setOption(barOption, true);
  currentView = 'bar';
  barViewBtn.classList.add('active');
  mapViewBtn.classList.remove('active');
});


  });

  
});
</script>

<script>
  const buttons = document.querySelectorAll('.chart-toggle-btn');
  const description = document.getElementById('map-description');
  const mapFrame = document.getElementById('mapFrame');

  const descriptions = {
    "2018": `The natural place to start a network study is to begin plotting a geographical network diagram. As we are investigating access to cultural infrastructure  and cultural typologies to see if London has equitable access we employed the 15 min cities theoretical framework to observe walkable (1km) cultural access across London and grouped the network by their typology (cinema/gallery/etc/etc). As the only verified cultural infrastructure data in London is the GLA data for 2018 and 2023 we began by plotting 2018 to then compare it with 2023 to observe changes in trends.`,
    "2023": `In 2023, the network reveals significant shifts in typologies and accessibility across London...`
  };

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      // Update active class
      buttons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      const year = btn.getAttribute('data-year');

      // Update description text
      description.textContent = descriptions[year];

      // Send message to iframe to update the year
      mapFrame.contentWindow.postMessage({ type: 'switchYear', year: year }, '*');
    });
  });
</script>

</body>
</html>
